<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stallabella - A Tale of Playfulness and Punctuality</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@400;700&family=Indie+Flower&display=swap"
        rel="stylesheet">
    <style>
        body {
            font-family: 'Indie Flower', cursive;
        }

        h1,
        h2 {
            font-family: 'Amatic SC', cursive;
        }
    </style>
</head>

<body class="bg-purple-100 font-sans">
    <header-component></header-component>
    <main class="container mx-auto px-4 py-8">
        <about-book id="about"></about-book>
        <reader-reviews id="reviews">
            <review-item text="Wonderful story turning a common point of tension into a learning moment!"
                author="John Z. ( Grandparent )">
            </review-item>
            <review-item text="On a scale of 1 to 10, I give this book an 100!!!"
                author="Penny G. ( 7 year old )"></review-item>
        </reader-reviews>
        <watch-story id="watch"></watch-story>
        <!-- <code-behind-story id="code"></code-behind-story> -->
        <making-movie id="movie"></making-movie>
    </main>
    <footer-component></footer-component>

    <script>
        class HeaderComponent extends HTMLElement {
            connectedCallback() {
                this.innerHTML = `<header-content></header-content>`;
            }
        }

        class HeaderContent extends HTMLElement {
            connectedCallback() {
                this.innerHTML = `
                    <header class="mb-8 relative bg-hero bg-no-repeat bg-cover bg-center bg-fixed h-screen" style="background-image: url('img/book-006.png');">
                        <div class="absolute inset-0 bg-purple-600 opacity-50"></div>
                        <div class="absolute bottom-0 left-0 right-0 pb-28 z-10 container mx-auto text-center text-white mb-8">
                            <h1 class="text-8xl md:text-9xl font-bold drop-shadow-xl">Stallabella</h1>
                            <p class="text-xl drop-shadow-xl">A Tale of Playfulness and Punctuality</p>
                            <div class="mt-8">
                                <buy-button href="https://www.amazon.com/dp/B0DHVCSFY5" text="Buy on Amazon $12.99"></buy-button>
                            </div>
                            <div class="mt-8">
                                <a href="#watch" class="text-white text-xl underline">Watch The Story Now</a>
                            </div>
                        </div>
                    </header>
                `;
            }
        }

        class AboutBook extends HTMLElement {
            connectedCallback() {
                this.innerHTML = `<about-book-content></about-book-content>`;
            }
        }

        class AboutBookContent extends HTMLElement {
            connectedCallback() {
                this.innerHTML = `
                    <section class="mb-12">
                        <sub-title>About the Book</sub-title>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div>
                                <p class="text-lg mb-4">
                                    Meet Stallabella, the delightful 7-year-old with the most enchanting blond curls and sparkling blue eyes! Every morning, she turns her routine into a whimsical performance, from pretending to be a sleepy cat to spinning wild tales about her breakfast. But when her playful stalling causes her to miss a magical school show, Stallabella feels a twinge of disappointment. 
                                </p>
                                <p class="text-lg mb-8">
                                    Determined to make a change, she transforms into Swiftabella, embracing a new, speedy approach to her mornings! With her parents beaming with pride, Swiftabella discovers the perfect balance between her playful spirit and the importance of being on time. Join her on this heartwarming adventure as she learns that fun and responsibility can go hand in hand, all while ensuring she never misses out on the magic of life! Get ready for giggles, joy, and a sprinkle of magic in this charming tale!
                                </p>
                            </div>
                            <div class="flex flex-col justify-center items-center">
                                <img src="img/book-mockup.png" alt="Stallabella's Story Book Cover">
                            </div>
                        </div>
                         <div class="flex justify-center">
                            <buy-button href="https://www.amazon.com/dp/B0DHVCSFY5" text="Buy on Amazon $12.99"></buy-button>
                        </div>
                    </section>
                `;
            }
        }

        class ReaderReviews extends HTMLElement {
            connectedCallback() {
                this.innerHTML = `<reader-reviews-content>
                     ${this.innerHTML}
                    </reader-reviews-content>`;
            }
        }

        class ReaderReviewsContent extends HTMLElement {

            connectedCallback() {
                this.innerHTML = `
                    <section class="mb-8">
                        <sub-title>What Readers Are Saying</sub-title>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            ${this.innerHTML}
                        </div>
                    </section>
                `;
            }
        }

        class ReviewItem extends HTMLElement {
            connectedCallback() {
                const text = this.getAttribute('text');
                const author = this.getAttribute('author');
                this.innerHTML = `
                    <div class="bg-white p-4 rounded-lg shadow">
                        <p class="italic">"${text}"</p>
                        <p class="font-bold mt-2">- ${author}</p>
                    </div>
                `;
            }
        }

        class WatchStory extends HTMLElement {
            connectedCallback() {
                this.innerHTML = `<watch-story-content></watch-story-content>`;
            }
        }

        class WatchStoryContent extends HTMLElement {
            connectedCallback() {
                this.innerHTML = `
                    <section class="mb-12">
                        <sub-title>Watch the Story</sub-title>
                        <div class="relative" style="padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; height: auto;">
                            <iframe src="https://www.youtube.com/embed/6hCrjoZWouk" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe>
                        </div>
                    </section>
                `;
            }
        }

        class CodeBehindStory extends HTMLElement {
            connectedCallback() {
                this.innerHTML = `<code-behind-story-content></code-behind-story-content>`;
            }
        }

        class CodeBehindStoryContent extends HTMLElement {
            connectedCallback() {
                this.innerHTML = `
                    <section class="mb-12">
                        <h2 class="text-5xl font-bold mb-8">The Code Behind the Story</h2>
                        <p class="text-lg mb-4">
                            The Stallabella story was written with the help of ChatGPT. It took a couple of attempts to get a story that we liked. We adjusted the prompt a few times and generated several versions of the story until we were happy with the results. The final story came from ChatGPT with little to no edits required.
                        </p>
                        <p class="text-lg mb-8">
                            If you're interested in exploring the code that powers this magical story, you can find the complete project on GitHub. Feel free to check it out, contribute, or even use it as inspiration for your own projects!
                        </p>
                        <div class="flex justify-center">
                            <view-button href="https://github.com/yourusername/stallabella-story" text="View on GitHub"></view-button>
                        </div>
                    </section>
                `;
            }
        }

        class MakingMovie extends HTMLElement {
            connectedCallback() {
                this.innerHTML = `<making-movie-content></making-movie-content>`;
            }
        }

        class MakingMovieContent extends HTMLElement {
            connectedCallback() {
                this.innerHTML = `
                    <section class="mb-12">
                        <sub-title>Making of Stallabella</sub-title>
                        <p class="text-lg mb-4">
                            Hello! I'm the creator of this book and a video technologist with a keen interest in Generative AI. I've always had a passion for storytelling and filmmaking, but I never quite developed the skills to create something I felt proud to share. Recently, I began experimenting with AI tools, which gave me the confidence I previously lacked. Here, I'll walk you through the entire process of how I created this book.
                        </p>
                         <sub-title-2>The Story</sub-title-2>
                         <p class="text-lg mb-4">
                            The story of Stallabella was very much inspired by my own daughter's passion for play and 
                            pushing boundaries, and I can take credit for composing a prompt that led to the creation of the story.
                            However, the actual story was generated by <link-item href="https://openai.com/"></link-item> GPT-4 model.
                            It took multiple iterations of the prompt to get a story that I was happy with. The final story was generated with little to no edits required.
                            Of all the processes to create this project, this was the easiest. 
                            I've published the base prompt, scripts, and generated story on GitHub for anyone interested in exploring the process.
                            I tried to make the code as easy to follow as possible, but you'll need some familiarity with software development tools to get started.
                        </p>
                        <div class="flex justify-center">
                            <view-button href="https://github.com/agento3/stallabella" text="View on GitHub"></view-button>
                        </div>
                        <sub-title-2>The Book</sub-title-2>
                        <p class="text-lg mb-4">
                            Assembling the book proved to be far more challenging and time-consuming than generating the story. While there may be AI tools available to assist with this process, I wasn't aware of any at the time. The story generation code does produce a Markdown file containing the story and images, but the styling of the images created by <link-item href="https://openai.com/index/dall-e-3/">OpenAI's DALL-E</link-item> model lacked consistency (I was aiming for a 3D animated look). 

                            To achieve the desired images, I used the text-to-image prompts generated by the story generator and turned to <link-item href="https://www.midjourney.com/">MidJourney</link-item>. This required numerous iterations, prompt adjustments, use of the in-painting tool, and other experiments to get the images just right. Despite all the effort, the results are still not perfect. While the images are similar, they lack consistency.

                            Although I had some background in graphic design and layout tools, I was a bit out of practice. I experimented with several tools before finally settling on Apple Pages to lay out the book.

                            I was also learning about publishing books to Amazon, and made many mistakes that I had to correct with the layout. This also added to the time it took to complete the book. After trial and error, I finally got the book approved for publishing.
                        </p>
                        <sub-title-2>The Video</sub-title-2>
                        <p class="text-lg mb-4">
                            Bringing the Stallabella story to life as a video was an exhilarating experience. 
                            To narrate the story, I utilized <link-item href="https://platform.openai.com/playground/tts">OpenAI's Text to Speech</link-item> model to generate the audio files from the story text.
                            This process was straightforward. Using the OpenAI Playground GUI, I copied the story text one page at a time and downloaded the audio files.
                            To animate the images, I employed <link-item href="https://runwayml.com/">RunwayML's</link-item> image-to-video tool. This AI animation tool has significantly improved over the past few years. 
                            However, it is neither fast nor cheap. Initially, I experimented with various settings to achieve specific results but found it challenging to guide the AI to produce the desired output. 
                            I was consuming credits without satisfactory results. I then decided to mostly use the default settings and let RunwayML determine the best way to animate the images.
                            After the first pass, I imported the videos and text-to-speech audio files into <link-item href="https://www.blackmagicdesign.com/products/davinciresolve">Davinci Resolve</link-item> and began laying out the video. 
                            After reviewing the initial version, I identified areas for improvement. I returned to RunwayML, regenerated the videos, and experimented with different prompts and settings to better steer the AI.
                            I re-imported these videos into Davinci Resolve, replacing or adding them to the timeline. I also performed some time-stretching on clips that were too short to better fit the audio. 
                            I repeated this process several times until I was satisfied with the final result.
                        </p>
                        <sub-title-2>Conclusion</sub-title-2>
                        <p class="text-lg mb-4">
                            Completing this project has left me with mixed emotions. On one hand, I feel a sense of accomplishment and pride in what I've created. On the other hand, I struggle with the notion that it wasn't entirely my work. I didn't write every word of the story, nor did I create the images; AI handled those tasks. My role was to have the idea and assemble the pieces. While I'm pleased with the outcome, I acknowledge that the final quality isn't perfect. The imperfections in the images and video are evident, and I lack the skills to correct them. 

                            I believe that as AI tools continue to evolve, the quality of their output will improve. This project has taught me that AI tools are just thatâ€”tools. It takes someone with vision and creative drive to bring an idea to life. This realization excites me about the future and the potential of AI in creative endeavors.
                            I hope this project inspires others to explore the possibilities of AI in their creative pursuits. I encourage you to experiment, learn, and create something that brings you joy and fulfillment.
                        </p>
                    <div class="flex justify-center mt-8">
                        <view-button href="https://www.linkedin.com/in/owenzanzal/" text="Connect with me on LinkedIn"></view-button>
                    </div>
                    </section>
                `;
            }
        }

        class FooterComponent extends HTMLElement {
            connectedCallback() {
                this.innerHTML = `<footer-content></footer-content>`;
            }
        }

        class FooterContent extends HTMLElement {
            connectedCallback() {
                const currentYear = new Date().getFullYear();
                this.innerHTML = `
                    <footer class="bg-purple-600 text-white py-4 mt-8">
                        <div class="container mx-auto px-4 text-center">
                            <p>&copy; ${currentYear} Stallabella's Story. All rights reserved.</p>
                        </div>
                    </footer>
                `;
            }
        }

        class BuyButton extends HTMLElement {
            connectedCallback() {
                const href = this.getAttribute('href');
                const text = this.getAttribute('text');
                const className = "bg-yellow-500 hover:bg-yellow-600 text-black"
                this.innerHTML = `<base-button href="${href}" text="${text}" class="${className}"></base-button>`;
            }
        }

        class ViewButton extends HTMLElement {
            connectedCallback() {
                const href = this.getAttribute('href');
                const text = this.getAttribute('text');
                const className = "bg-blue-500 hover:bg-blue-600 text-white";
                this.innerHTML = `<base-button href="${href}" text="${text}" class="${className}"></base-button>`;
            }
        }

        class BaseButton extends HTMLElement {
            connectedCallback() {
                const href = this.getAttribute('href');
                const text = this.getAttribute('text');
                const className = this.getAttribute('class');
                this.innerHTML = `<a href="${href}" target="_blank" class="${className} py-4 px-8 rounded inline-block text-3xl">${text}</a>`;
            }
        }

        class SubTitle extends HTMLElement {
            connectedCallback() {
                this.innerHTML = `<h2 class="text-5xl font-bold mb-8">${this.innerHTML}</h2>`;
            }
        }

        class SubTitle2 extends HTMLElement {
            connectedCallback() {
                this.innerHTML = `<h2 class="text-4xl font-bold mb-4 mt-8">${this.innerHTML}</h2>`;
            }
        }

        class Link extends HTMLElement {
            connectedCallback() {
                const href = this.getAttribute('href');
                this.innerHTML = `<a href="${href}" class="text-blue-500 underline">${this.innerHTML}</a>`;
            }
        }

        customElements.define('link-item', Link);
        customElements.define('sub-title', SubTitle);
        customElements.define('sub-title-2', SubTitle2);
        customElements.define('header-component', HeaderComponent);
        customElements.define('header-content', HeaderContent);
        customElements.define('about-book', AboutBook);
        customElements.define('about-book-content', AboutBookContent);
        customElements.define('reader-reviews', ReaderReviews);
        customElements.define('reader-reviews-content', ReaderReviewsContent);
        customElements.define('review-item', ReviewItem);
        customElements.define('watch-story', WatchStory);
        customElements.define('watch-story-content', WatchStoryContent);
        customElements.define('code-behind-story', CodeBehindStory);
        customElements.define('code-behind-story-content', CodeBehindStoryContent);
        customElements.define('making-movie', MakingMovie);
        customElements.define('making-movie-content', MakingMovieContent);
        customElements.define('footer-component', FooterComponent);
        customElements.define('footer-content', FooterContent);
        customElements.define('base-button', BaseButton);
        customElements.define('buy-button', BuyButton);
        customElements.define('view-button', ViewButton);
    </script>
</body>

</html>